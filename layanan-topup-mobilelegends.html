<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YorPedia - Top Up Mobile Legends</title>
<style>
  body { font-family: 'Poppins', sans-serif; background-color: #f5f5f5; margin:0; padding:0; }
  header { display:flex; align-items:center; background:#fff; padding:10px 15px; box-shadow:0 1px 4px rgba(0,0,0,0.1);}
  .btn-back { display:inline-flex; align-items:center; justify-content:center; width:38px; height:38px; background:#f0f0f0; border-radius:8px; text-decoration:none; margin-right:10px; transition:0.2s;}
  .btn-back:hover{background:#e0e0e0;}
  header h1{font-size:1.2em;margin:0;color:#222;}
  .container{max-width:600px;margin:30px auto;background:#fff;padding:25px;border-radius:15px;box-shadow:0 2px 8px rgba(0,0,0,0.05);}
  label{display:block;margin-top:15px;font-weight:600;color:#444;}
  input,select,textarea{width:100%;padding:12px;margin-top:8px;border:1px solid #ccc;border-radius:10px;font-family:'Poppins',sans-serif;font-size:14px;box-sizing:border-box;}
  textarea{resize:none;min-height:80px;}
  button{width:100%;background:#e53935;color:#fff;border:none;padding:12px;border-radius:10px;font-size:1em;font-weight:600;margin-top:25px;cursor:pointer;transition:0.2s;}
  button:hover{background:#d32f2f;}
  button:disabled{background:#ccc; cursor:not-allowed;}
  .total-box{margin-top:20px;padding:15px;background:#f9f9f9;border-radius:10px;font-weight:600;text-align:center;color:#333;border:1px solid #ddd;}
  .popup{position:fixed;inset:0;background:rgba(0,0,0,0.5);display:none;align-items:center;justify-content:center;z-index:999;}
  .popup-content{background:#fff;padding:20px;border-radius:15px;width:90%;max-width:400px;position:relative;text-align:center;box-shadow:0 2px 10px rgba(0,0,0,0.2);animation:fadeIn 0.3s ease;}
  @keyframes fadeIn{from{opacity:0;transform:scale(0.9);} to{opacity:1;transform:scale(1);}}
  .close{position:absolute;right:15px;top:10px;cursor:pointer;font-weight:bold;font-size:20px;color:#555;}
  .pay-method{text-align:left;margin-top:15px;}
  .confirm-btn{background:#4caf50;color:#fff;border:none;padding:10px;border-radius:10px;width:100%;font-weight:600;margin-top:15px;cursor:pointer;}
  .confirm-btn:hover{background:#43a047;}
  .id-server {display:flex; gap:10px;}
  .id-server input:first-child {flex:3;} /* ID Game */
  .id-server input:last-child {flex:1;} /* Server */
</style>
</head>
<body>
<header>
  <a href="index.html" class="btn-back" title="Kembali">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="22" height="22" fill="#333">
      <path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
    </svg>
  </a>
  <h1>Top Up Mobile Legends</h1>
</header>

<div class="container">
  <form id="formWA">
    <label>Nama Lengkap</label>
    <input type="text" id="nama" placeholder="Carlos Marselinus" required>

    <label>Nomor WhatsApp</label>
    <input type="tel" id="wa" placeholder="Contoh: 081234567890" required pattern="[0-9]+">

    <label>ID Game & Server</label>
    <div class="id-server">
      <input type="tel" id="idgame" placeholder="Contoh: 7354200926" required maxlength="14">
      <input type="tel" id="server" placeholder="1234" required maxlength="6">
    </div>

    <label>Nickname Game (Opsional)</label>
    <input type="text" id="nickname" placeholder="Contoh: YorPed99">

    <label>Paket Top Up</label>
    <select id="paket" required>
      <option value="">Pilih Paket</option>
      <option value="1700">5 DM - Rp1.700</option>
      <option value="3480">12 DM - Rp3.480</option>
      <option value="5500">19 DM - Rp5.500</option>
      <option value="9760">36 DM - Rp9.760</option>
      <option value="11600">44 DM - Rp11.600</option>
      <option value="15500">59 DM - Rp15.500</option>
      <option value="19460">74 DM - Rp19.460</option>
      <option value="23300">86 DM - Rp23.300</option>
      <option value="26480">100 DM - Rp26.480</option>
      <option value="38000">144 DM - Rp38.000</option>
      <option value="61100">229 DM - Rp61.100</option>
      <option value="266340">1050 DM - Rp266.340</option>
      <option value="28000">WDP 1x - Rp28.000</option>
      <option value="55560">WDP 2x - Rp55.560</option>
      <option value="83715">WDP 3x - Rp83.715</option>
    </select>

    <label>Catatan Tambahan (Opsional)</label>
    <textarea id="catatan"></textarea>

    <div class="total-box">Total: <span id="totalHarga">Rp0</span></div>

    <button type="button" id="btnBayar" disabled>Metode Pembayaran</button>
  </form>
</div>

<div class="popup" id="popup">
  <div class="popup-content">
    <span class="close" onclick="tutupPopup()">‚ùå</span>
    <h3>Pilih Metode Pembayaran</h3>
    <div class="pay-method">
      <b>QRIS:</b><br><img src="qris.png" alt="Kode Qris" width="150"><br><br>
      <b>DANA:</b> 0831-7715-2459 <small>(a.n MADAM)</small><br><br>
      <b>GOPAY:</b> 0831-7715-2459 <small>(a.n YOR PEDIA)</small>
    </div>
    <p style="margin-top:20px;font-weight:600;color:#333;">
      Total yang harus dibayar: <span id="totalBayar">Rp0</span>
    </p>
    <button class="confirm-btn" onclick="kirimWA()">Konfirmasi Pembayaran</button>
  </div>
</div>

<script>
const namaInput = document.getElementById('nama');
const waInput = document.getElementById('wa');
const idGameInput = document.getElementById('idgame');
const serverInput = document.getElementById('server');
const paketSelect = document.getElementById('paket');
const btnBayar = document.getElementById('btnBayar');
const popup = document.getElementById('popup');
const totalHarga = document.getElementById('totalHarga');
const totalBayar = document.getElementById('totalBayar');

function hitungTotal() {
  const harga = parseInt(paketSelect.value) || 0;
  totalHarga.textContent = "Rp" + harga.toLocaleString("id-ID");
  totalBayar.textContent = totalHarga.textContent;
}

function checkForm() {
  const nama = namaInput.value.trim();
  const wa = waInput.value.trim();
  const idGame = idGameInput.value.trim();
  const server = serverInput.value.trim();
  const paket = paketSelect.value;

  const idValid = idGame.length >=8 && idGame.length <=11 && /^[0-9]+$/.test(idGame);
  const waValid = wa.length >= 10 && /^[0-9]+$/.test(wa);
  const serverValid = server.length > 0 && /^[0-9]+$/.test(server);

  btnBayar.disabled = !(nama && idValid && paket && waValid && serverValid);
  hitungTotal();
}

document.querySelectorAll('#formWA input, #formWA select').forEach(el=>{
  el.addEventListener('input', checkForm);
});

btnBayar.onclick = () => { popup.style.display = 'flex'; };
function tutupPopup(){ popup.style.display = 'none'; }

function kirimWA(){
  const nama = namaInput.value;
  const wa = waInput.value;
  const idgame = idGameInput.value;
  const server = serverInput.value;
  const nickname = document.getElementById('nickname').value || "-";
  const paketText = paketSelect.options[paketSelect.selectedIndex].text;
  const catatan = document.getElementById('catatan').value || "-";

  const pesan = `*Top Up Mobile Legends*\n\n`+
                `*Nama:* ${nama}\n`+
                `*WhatsApp:* ${wa}\n`+
                `*ID:* ${idgame} (${server})\n`+
                `*Nick:* ${nickname}\n`+
                `*TopUp:* ${paketText}\n`+
                `*Total Bayar:* ${totalHarga.textContent}\n`+
                `*Catatan:* ${catatan}`;

  window.open(`https://wa.me/6283177152459?text=${encodeURIComponent(pesan)}`, "_blank");
}
</script>
</body>
</html>
