<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>YorPedia - VPS</title>
<style>
  body { font-family: 'Poppins', sans-serif; background:#f5f5f5; margin:0; padding:0; }
  header { display:flex; align-items:center; background:#fff; padding:10px 15px; box-shadow:0 1px 4px rgba(0,0,0,0.1); }
  .btn-back { display:inline-flex; align-items:center; justify-content:center; width:38px; height:38px; background:#f0f0f0; border-radius:8px; text-decoration:none; margin-right:10px; transition:0.2s; }
  .btn-back:hover { background:#e0e0e0; }
  header h1 { font-size:1.2em; margin:0; color:#222; }
  .container { max-width:600px; margin:30px auto; background:#fff; padding:25px; border-radius:15px; box-shadow:0 2px 8px rgba(0,0,0,0.05); }

  label { display:block; margin-top:15px; font-weight:600; color:#444; }
  input,textarea,select { width:100%; padding:12px; margin-top:8px; border:1px solid #ccc; border-radius:10px; font-family:'Poppins',sans-serif; font-size:14px; box-sizing:border-box; }
  textarea { resize:none; min-height:80px; }

  /* === Cards Paket === */
  .paket-container { display:grid; gap:15px; margin-top:10px; }
  .paket-card {
    border:2px solid #ddd; border-radius:12px; padding:15px;
    transition:0.2s; cursor:pointer; background:#fafafa;
  }
  .paket-card:hover { border-color:#e53935; background:#fff; }
  .paket-card.selected { border-color:#e53935; background:#ffeaea; }
  .paket-card h3 { margin:0; font-size:1.1em; color:#e53935; }
  .paket-card p { margin:5px 0; font-size:0.9em; color:#444; }

  .total-box { margin-top:20px; padding:15px; background:#f9f9f9; border-radius:10px; font-weight:600; text-align:center; color:#333; border:1px solid #ddd; }

  button { width:100%; background:#e53935; color:#fff; border:none; padding:12px; border-radius:10px; font-size:1em; font-weight:600; margin-top:25px; cursor:pointer; transition:0.2s; }
  button:hover { background:#d32f2f; }
  button:disabled { background:#ccc; cursor:not-allowed; }

  .promo-invalid { font-size:0.9em; margin-top:5px; }

  .popup { position:fixed; inset:0; background:rgba(0,0,0,0.5); display:none; align-items:center; justify-content:center; z-index:999; }
  .popup-content { background:#fff; padding:20px; border-radius:15px; width:90%; max-width:400px; position:relative; text-align:center; box-shadow:0 2px 10px rgba(0,0,0,0.2); animation:fadeIn 0.3s ease; }
  @keyframes fadeIn { from{opacity:0; transform:scale(0.9);} to{opacity:1; transform:scale(1);} }
  .close { position:absolute; right:15px; top:10px; cursor:pointer; font-weight:bold; font-size:20px; color:#555; }

  .pay-method { text-align:left; margin-top:15px; }
  .confirm-btn { background:#4caf50; color:#fff; border:none; padding:10px; border-radius:10px; width:100%; font-weight:600; margin-top:15px; cursor:pointer; }
  .confirm-btn:hover { background:#43a047; }

  .benefit-list { list-style:none; padding:0; margin-top:10px; }
  .benefit-list li::before { color:green; }
</style>
</head>
<body>
<header>
  <a href="index.html" class="btn-back" title="Kembali">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="22" height="22" fill="#333">
      <path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
    </svg>
  </a>
  <h1>VPS AMD Reyzen</h1>
</header>

<div class="container">
  <form id="formVPS">
    <label>Nama Lengkap</label>
    <input type="text" id="nama" placeholder="Contoh: Andi Maulana" required>

    <label>Email</label>
    <input type="email" id="email" required>

    <label>Nomor WhatsApp</label>
    <input type="tel" id="wa" required>

    <label>Pilih Paket VPS</label>
    <div class="paket-container" id="paketContainer">
      <div class="paket-card" data-nama="Paket 1" data-harga="116800">
        <h3>Paket 1 ‚Äî Rp116.800/bulan</h3>
        <p>RAM 4GB ‚Ä¢ CPU 1vCores ‚Ä¢ Disk 128GB NVMe SSD</p>
        <p>Bandwidth 2TB ‚Ä¢ Region Nuremberg, Jerman</p>
        <p>AMD Reyzen 9950X</p>
      </div>
      <div class="paket-card" data-nama="Paket 2" data-harga="118000">
        <h3>Paket 2 ‚Äî Rp118.000/bulan</h3>
        <p>RAM 3GB ‚Ä¢ CPU 2vCores ‚Ä¢ Disk 45GB NVMe SSD</p>
        <p>Bandwidth 2TB ‚Ä¢ Region Florida, AS</p>
        <p>AMD Reyzen 9950X</p>
      </div>
      <div class="paket-card" data-nama="Paket 3" data-harga="197000">
        <h3>Paket 3 ‚Äî Rp197.000/bulan</h3>
        <p>RAM 8GB ‚Ä¢ CPU 2vCores ‚Ä¢ Disk 256GB NVMe SSD</p>
        <p>Bandwidth 32TB ‚Ä¢ Region Missouri, AS</p>
        <p>AMD Reyzen 9950X</p>
      </div>
    </div>

    <label>Sistem Operasi</label>
    <select id="os" required>
      <option value="">Pilih Sistem Operasi</option>
      <option>Ubuntu 22.04</option>
      <option>Ubuntu 24.04</option>
      <option>Debian 11</option>
      <option>Debian 12</option>
      <option>Debian 13</option>
      <option>AlmaLinux 9</option>
      <option>AlmaLinux 10</option>
      <option>RockyLinux 9</option>
      <option>Windows Srv 2019</option>
      <option>Windows Srv 2025</option>
    </select>

    <label>Benefit</label>
    <ul class="benefit-list">
      <li>üí∞ Harga Terjangkau</li>
      <li>‚è±Ô∏è Uptime 99,9%</li>
      <li>‚ö° High Performance</li>
      <li>üöÄ Fast CPUs</li>
      <li>üîë Akses Full Root</li>
      <li>üåê Jaringan 10Gbps</li>
    </ul>

    <label>Kode Promo</label>
    <input type="text" id="promo" placeholder="Opsional">
    <div id="promoMsg" class="promo-invalid"></div>

    <div class="total-box">Total: <span id="totalHarga">Rp0</span></div>

    <label>Catatan Tambahan (Opsional)</label>
    <textarea id="catatan"></textarea>

    <button type="button" id="btnBayar" disabled>Metode Pembayaran</button>
  </form>
</div>

<!-- POPUP -->
<div class="popup" id="popup">
  <div class="popup-content">
    <span class="close" onclick="tutupPopup()">‚ùå</span>
    <h3>Pilih Metode Pembayaran</h3>

    <div class="pay-method">
      <b>QRIS:</b><br>
      <img src="qris.png" alt="Kode Qris" width="150"><br><br>

      <b>DANA:</b> 0831-7715-2459
      <small>(a.n MADAM)</small><br><br>

      <b>GOPAY:</b> 0831-7715-2459
      <small>(a.n YOR PEDIA)</small>
    </div>

    <p style="margin-top:20px;font-weight:600;color:#333;">
      Total yang harus dibayar: <span id="totalBayar">Rp 0</span>
    </p>

    <button class="confirm-btn" onclick="kirimWA()">Konfirmasi Pembayaran</button>
  </div>
</div>

<script>
const cards = document.querySelectorAll('.paket-card');
const totalHarga = document.getElementById('totalHarga');
const totalBayar = document.getElementById('totalBayar');
const promoInput = document.getElementById('promo');
const promoMsg = document.getElementById('promoMsg');
const btnBayar = document.getElementById('btnBayar');
const popup = document.getElementById('popup');
let selectedPaket = null, harga = 0, diskon = 0;
let promoList = [];

fetch('promo.json').then(res=>res.json()).then(data=>promoList=data.promo).catch(()=>{});

cards.forEach(card=>{
  card.addEventListener('click',()=>{
    cards.forEach(c=>c.classList.remove('selected'));
    card.classList.add('selected');
    selectedPaket = card.dataset.nama;
    harga = parseInt(card.dataset.harga);
    hitungTotal();
    checkForm();
  });
});

promoInput.addEventListener('input',()=>{
  cekPromo();
  hitungTotal();
});

function cekPromo(){
  const kode = promoInput.value.trim().toUpperCase();
  const promo = promoList.find(p=>p.code===kode);
  if(promo){
    diskon = promo.discount;
    promoMsg.textContent = `Kode promo berhasil! Diskon ${diskon*100}% diterapkan.`;
    promoMsg.style.color="green";
  } else if(kode!==""){
    diskon=0; promoMsg.textContent="Kode promo tidak valid."; promoMsg.style.color="#e53935";
  } else { diskon=0; promoMsg.textContent=""; }
}

function hitungTotal(){
  let total = harga*(1-diskon);
  totalHarga.textContent="Rp "+total.toLocaleString("id-ID");
  totalBayar.textContent=totalHarga.textContent;
}

function checkForm(){
  const nama=document.getElementById('nama').value.trim();
  const email=document.getElementById('email').value.trim();
  const wa=document.getElementById('wa').value.trim();
  const os=document.getElementById('os').value.trim();
  btnBayar.disabled=!(nama && email && wa && os && selectedPaket);
}

document.getElementById('formVPS').addEventListener('input',checkForm);
btnBayar.onclick=()=>{popup.style.display='flex';};
function tutupPopup(){popup.style.display='none';}

function kirimWA(){
  const nama=document.getElementById('nama').value;
  const email=document.getElementById('email').value;
  const wa=document.getElementById('wa').value;
  const os=document.getElementById('os').value;
  const catatan=document.getElementById('catatan').value||"-";
  const total=totalHarga.textContent;

  const pesan=`*VPS AMD Reyzen*\nNama: ${nama}\nEmail: ${email}\nWhatsapp: ${wa}\nPaket: ${selectedPaket}\nOS: ${os}\nTotal: ${total}\nCatatan: ${catatan}`;
  window.open(`https://wa.me/6288287091943?text=${encodeURIComponent(pesan)}`,"_blank");
}
</script>
</body>
</html>
